<app-header></app-header>

<div class="root">
  <app-movies-suggestions (refetchWatchlist)="fetchWatchlist()"></app-movies-suggestions>

  <p class="section-title">
    Watchlist ({{ (watchlist$ | async)?.length }})
  </p>
  <div class="section">
    @if (watchlist$ | async; as watchListMovies) {
      @for (movie of watchListMovies; track movie) {
        <app-movie-card [movie]="movie">
        </app-movie-card>
      }
    }
    @if ((watchlist$ | async) === null) {
      <tui-loader size="xxl"></tui-loader>
    }
  </div>
  <p class="footer">
    <a href="https://www.themoviedb.org">
      <img alt="Powered by TMDb" src="assets/tmdb.png" />
    </a>
    <br />
    This product uses the
    <a href="https://www.themoviedb.org/documentation/api">TMDb API</a> but is
    not endorsed or certified by <a href="https://www.themoviedb.org/">TMDb</a>.
  </p>
</div>